<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decision Maker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Mic, Settings2, RotateCw } = lucide;

        const Input = React.forwardRef(({ className, ...props }, ref) => {
            return (
                <input
                    className={`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`}
                    ref={ref}
                    {...props}
                />
            )
        });

        const Button = React.forwardRef(({ className, variant, size, children, ...props }, ref) => {
            const baseStyles = "inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50";
            const variants = {
                default: "bg-primary text-primary-foreground hover:bg-primary/90",
                outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
            };
            const sizes = {
                default: "h-10 px-4 py-2",
                sm: "h-9 rounded-md px-3",
                lg: "h-11 rounded-md px-8",
                icon: "h-10 w-10",
            };
            
            return (
                <button
                    className={`${baseStyles} ${variants[variant || 'default']} ${sizes[size || 'default']} ${className}`}
                    ref={ref}
                    {...props}
                >
                    {children}
                </button>
            )
        });

        const Card = React.forwardRef(({ className, ...props }, ref) => {
            return (
                <div
                    ref={ref}
                    className={`rounded-lg border bg-card text-card-foreground shadow-sm ${className}`}
                    {...props}
                />
            )
        });

        const DecisionMaker = () => {
            const [input, setInput] = useState("");
            const [decision, setDecision] = useState("");
            const [isSpinning, setIsSpinning] = useState(false);
            const [season, setSeason] = useState("");
            const [timeOfDay, setTimeOfDay] = useState("");
            const [lastQuery, setLastQuery] = useState("");
            const [showSettings, setShowSettings] = useState(false);

            useEffect(() => {
                const month = new Date().getMonth();
                if (month >= 2 && month <= 4) setSeason("spring");
                else if (month >= 5 && month <= 7) setSeason("summer");
                else if (month >= 8 && month <= 10) setSeason("fall");
                else setSeason("winter");
            }, []);

            useEffect(() => {
                const updateTimeOfDay = () => {
                    const hour = new Date().getHours();
                    if (hour >= 5 && hour < 12) setTimeOfDay("morning");
                    else if (hour >= 12 && hour < 17) setTimeOfDay("afternoon");
                    else if (hour >= 17 && hour < 22) setTimeOfDay("evening");
                    else setTimeOfDay("night");
                };
                updateTimeOfDay();
                const interval = setInterval(updateTimeOfDay, 60000);
                return () => clearInterval(interval);
            }, []);

            const suggestions = {
                dogNames: {
                    classic: ["Luna", "Charlie", "Bella", "Max", "Lucy", "Bailey", "Daisy", "Rocky", "Molly", "Buddy"],
                    trendy: ["Milo", "Finn", "Nova", "Atlas", "Scout", "River", "Willow", "Sage", "Phoenix", "Ziggy"],
                    unique: ["Echo", "Ghost", "Pixel", "Quest", "Raven", "Storm", "Vale", "Wisp", "Yeti", "Zen"],
                    seasonal: {
                        spring: ["Blossom", "Rain", "Sunny", "Meadow", "Flora"],
                        summer: ["Beach", "Coconut", "Sandy", "Wave", "Sol"],
                        fall: ["Maple", "Rusty", "Autumn", "Cider", "Ember"],
                        winter: ["Frost", "Snow", "Storm", "Glacier", "Arctic"]
                    }
                },
                usernames: {
                    gaming: ["EpicGamer", "NightOwl", "PixelHero", "QuestMaster", "StormRider"],
                    creative: ["ArtisticSoul", "DreamWeaver", "ColorMaker", "MusicMuse", "StoryTeller"],
                    professional: ["TechPro", "DigitalNomad", "DataWizard", "CodeCrafter", "DesignMind"],
                    nature: ["MountainDreamer", "OceanSpirit", "ForestWanderer", "StarGazer", "EarthChild"],
                    seasonal: {
                        spring: ["SpringBreeze", "BloomingLife", "AprilDreams", "GardenSpirit"],
                        summer: ["SummerVibes", "SunsetChaser", "BeachLife", "TropicalSoul"],
                        fall: ["AutumnLeaves", "PumpkinSpice", "FallBreeze", "HarvestMoon"],
                        winter: ["FrostByte", "SnowDreamer", "WinterWolf", "IceCrystal"]
                    }
                },
                gifts: {
                    general: {
                        tech: ["Smart Watch", "Wireless Earbuds", "Portable Speaker", "Digital Picture Frame", "Phone Stand"],
                        lifestyle: ["Scented Candle Set", "Gourmet Coffee Kit", "Wellness Box", "Craft Cocktail Kit", "Planner"],
                        hobby: ["Art Supply Kit", "Photography Class", "Cooking Course", "Gaming Subscription", "Book Box"],
                        experience: ["Concert Tickets", "Spa Day", "Cooking Class", "Wine Tasting", "Museum Pass"]
                    },
                    seasonal: {
                        spring: ["Garden Starter Kit", "Picnic Set", "Spring Scarf", "Rain Boots", "Flower Subscription"],
                        summer: ["Beach Kit", "Camping Gear", "Outdoor Games", "BBQ Set", "Adventure Experience"],
                        fall: ["Cozy Blanket", "Tea Set", "Board Games", "Fall Baking Kit", "Movie Night Bundle"],
                        winter: ["Winter Accessories", "Hot Chocolate Kit", "Ski Pass", "Comfort Food Box", "Indoor Plant"]
                    }
                },
                food: {
                    morning: {
                        spring: ["Fresh Fruit Bowl", "Garden Omelette", "Berry Pancakes"],
                        summer: ["Acai Bowl", "Cold Brew Coffee", "Summer Smoothie"],
                        fall: ["Pumpkin Oatmeal", "Apple Cinnamon Toast", "Harvest Granola"],
                        winter: ["Hot Oatmeal", "Breakfast Casserole", "Winter Fruits"]
                    },
                    afternoon: {
                        spring: ["Spring Salad", "Vegetable Soup", "Fresh Sandwich"],
                        summer: ["Cold Noodle Bowl", "Fresh Sushi", "Garden Wrap"],
                        fall: ["Butternut Soup", "Harvest Bowl", "Warm Sandwich"],
                        winter: ["Hot Soup", "Warm Bowl", "Grilled Sandwich"]
                    },
                    evening: {
                        spring: ["Grilled Fish", "Spring Pasta", "Fresh Stir-Fry"],
                        summer: ["BBQ Plate", "Summer Paella", "Grilled Vegetables"],
                        fall: ["Roasted Dinner", "Autumn Pasta", "Warm Curry"],
                        winter: ["Hearty Stew", "Winter Roast", "Comfort Dish"]
                    }
                }
            };

            const generateDecision = (userInput) => {
                const lowerInput = userInput.toLowerCase();
                
                // Handle dog names
                if (lowerInput.includes("name") && lowerInput.includes("dog")) {
                    const categories = ["classic", "trendy", "unique", "seasonal"];
                    const category = categories[Math.floor(Math.random() * categories.length)];
                    if (category === "seasonal") {
                        return suggestions.dogNames.seasonal[season][
                            Math.floor(Math.random() * suggestions.dogNames.seasonal[season].length)
                        ];
                    }
                    return suggestions.dogNames[category][
                        Math.floor(Math.random() * suggestions.dogNames[category].length)
                    ];
                }

                // Handle username suggestions
                if (lowerInput.includes("username")) {
                    const categories = ["gaming", "creative", "professional", "nature", "seasonal"];
                    const category = categories[Math.floor(Math.random() * categories.length)];
                    if (category === "seasonal") {
                        return suggestions.usernames.seasonal[season][
                            Math.floor(Math.random() * suggestions.usernames.seasonal[season].length)
                        ];
                    }
                    return suggestions.usernames[category][
                        Math.floor(Math.random() * suggestions.usernames[category].length)
                    ];
                }

                // Handle gift suggestions
                if (lowerInput.includes("present") || lowerInput.includes("gift")) {
                    const useSeasonalGift = Math.random() > 0.5;
                    if (useSeasonalGift) {
                        return suggestions.gifts.seasonal[season][
                            Math.floor(Math.random() * suggestions.gifts.seasonal[season].length)
                        ];
                    }
                    const categories = ["tech", "lifestyle", "hobby", "experience"];
                    const category = categories[Math.floor(Math.random() * categories.length)];
                    return suggestions.gifts.general[category][
                        Math.floor(Math.random() * suggestions.gifts.general[category].length)
                    ];
                }

                // Handle food suggestions
                if (lowerInput.includes("food") || lowerInput.includes("eat")) {
                    return suggestions.food[timeOfDay][season][
                        Math.floor(Math.random() * suggestions.food[timeOfDay][season].length)
                    ];
                }

                // Handle direct choices
                if (userInput.includes(" or ")) {
                    const options = userInput.split(" or ");
                    return options[Math.floor(Math.random() * options.length)].trim();
                }

                return "Ask about names, usernames, gifts, food, or provide choices!";
            };

            const handleSubmit = (regenerate = false) => {
                const queryToUse = regenerate ? lastQuery : input;
                
                if (!queryToUse.trim()) return;
                
                setIsSpinning(true);
                setTimeout(() => {
                    setDecision(generateDecision(queryToUse));
                    setIsSpinning(false);
                }, 1000);

                if (!regenerate) {
                    setLastQuery(input);
                }
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter') {
                    handleSubmit(false);
                }
            };

            return (
                <div className="min-h-screen p-6 bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500">
                    <div className="max-w-md mx-auto space-y-6">
                        <Card className="p-6 backdrop-blur-lg bg-white/10">
                            <div className="flex gap-2 mb-4">
                                <Input
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    onKeyPress={handleKeyPress}
                                    placeholder="Ask about names, usernames, gifts, food, or provide choices..."
                                    className="flex-1"
                                />
                                <Button variant="outline" size="icon" onClick={() => setShowSettings(!showSettings)}>
                                    <Settings2 className="h-4 w-4" />
                                </Button>
                            </div>

                            {showSettings && (
                                <div className="mb-4 p-4 bg-white/10 rounded-lg">
                                    <p className="text-white">Current Time: {timeOfDay}</p>
                                    <p className="text-white">Current Season: {season}</p>
                                </div>
                            )}

                            <div className="relative h-64 w-64 mx-auto perspective-1000">
                                <div 
                                    className={`relative w-full h-full transition-transform duration-1000 transform-style-preserve-3d ${
                                        isSpinning ? 'animate-spin' : ''
                                    }`}
                                >
                                    <div className="absolute w-0 h-0 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
                                        <div className="w-0 h-0 border-l-[128px] border-r-[128px] border-b-[220px] border-l-transparent border-r-transparent border-b-white/20" />
                                        <div className="w-0 h-0 border-l-[128px] border-r-[128px] border-t-[220px] absolute top-0 left-0 transform -translate-x-full rotate-60 origin-top-right border-l-transparent border-r-transparent border-t-white/15" />
                                        <div className="w-0 h-0 border-l-[128px] border-r-[128px] border-t-[220px] absolute top-0 right-0 transform translate-x-full -rotate-60 origin-top-left border-l-transparent border-r-transparent border-t-white/10" />
                                    </div>
                                    
                                    <div className="absolute inset-0 flex items-center justify-center text-center p-4 z-10">
                                        <div className="bg-black/40 p-4 rounded-lg backdrop-blur-sm">
                                